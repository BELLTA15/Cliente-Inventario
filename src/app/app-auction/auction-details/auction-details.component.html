<div class="details" *ngIf="freshAuction">
  <button (click)="close()">Cerrar</button>

  <h2>{{ freshAuction.title || freshAuction.item?.name || 'Sin título' }}</h2>
  <p>{{ freshAuction.description ?? 'Sin descripción' }}</p>

  <p>Precio actual: {{ freshAuction.currentPrice ?? 'N/A' }}</p>
  <p *ngIf="freshAuction.highestBid">
    Mejor puja: {{ freshAuction.highestBid.amount ?? 'N/A' }} por {{ freshAuction.highestBid.userId ?? 'N/A' }}
  </p>
  <p>Creada: {{ freshAuction.createdAt ? (freshAuction.createdAt | date:'short') : 'N/A' }}</p>
  <p>Finaliza: {{ freshAuction.endsAt ? (freshAuction.endsAt | date:'short') : 'N/A' }}
     ({{ getRemaining(freshAuction.endsAt) }})
  </p>

  <div class="actions">
    <input type="number" [(ngModel)]="editingBid" placeholder="Monto" />
    <button (click)="placeBid()">Pujar</button>
    <button *ngIf="freshAuction.buyNowPrice" (click)="buyNow()">
      Comprar ahora {{ freshAuction.buyNowPrice }}
    </button>
  </div>

  <div *ngIf="freshAuction.bids?.length">
    <h4>Pujas</h4>
    <ul>
      <li *ngFor="let b of freshAuction.bids">
        {{ b.userId ?? 'N/A' }} - {{ b.amount ?? 'N/A' }} ({{ b.createdAt ? (b.createdAt | date:'short') : 'N/A' }})
      </li>
    </ul>
  </div>
</div>
