<div class="auction-page">
  <!-- 🔹 Layout principal con sidebar -->
  <div class="content-layout">

    <!-- 🔹 Sidebar de categorías -->
    <div class="sidebar">
      <button (click)="filterByCategory('armas')">⚔️ Armas</button>
      <button (click)="filterByCategory('items')">🎒 Ítems</button>
      <button (click)="filterByCategory('armaduras')">🛡️ Armaduras</button>
      <button (click)="filterByCategory('epicas')">🌟 Épicas</button>
      <button (click)="filterByCategory('heroes')">🦸 Héroes</button>
      <button (click)="filterByCategory('all')">📦 Ver Todo</button>
    </div>

    <!-- 🔹 Contenido principal -->
    <div class="main-content">

      <!-- Barra superior -->
      <div class="toolbar">
        <button (click)="goToComprar()">🛒 Comprar</button>
        <button (click)="goToVender()">📦 Vender</button>
        <button (click)="goToRecoger()">🎁 Recoger</button>
        <button (click)="goToMisPujas()">💰 Mis pujas</button>
      </div>

      <!-- Formulario -->
      <form (ngSubmit)="submit()" class="form-container">

        <div *ngIf="loading">Cargando items...</div>

        <!-- 🔹 Grid de ítems seleccionables -->
        <div class="items-grid">
          <div 
            class="item-card" 
            *ngFor="let item of allItems" 
            (click)="itemId = '' + item.id"
            [class.selected]="itemId === '' + item.id"
          >
            <img [src]="item.imagen" [alt]="item.name || 'Item sin nombre'" />
            <p class="item-name">{{ item.name || 'Sin nombre' }}</p>
          </div>
        </div>

        <label class="block">
          Precio inicial:
          <input 
            type="number" 
            placeholder="Precio inicial" 
            [value]="form.startingPrice"
            (input)="handleInputChange('startingPrice', $event)" 
          />
        </label>

        <label class="block">
          Compra rápida:
          <input 
            type="number" 
            placeholder="Compra rápida" 
            [value]="form.buyNowPrice || ''"
            (input)="handleInputChange('buyNowPrice', $event)" 
          />
        </label>

        <label class="block">
          Duración:
          <select 
            [value]="form.durationHours" 
            (change)="handleInputChange('durationHours', $event)"
          >
            <option [value]="24">24 horas</option>
            <option [value]="48">48 horas</option>
          </select>
        </label>

        <button type="submit" class="submit-btn">
          Crear Subasta
        </button>
      </form>
    </div>
  </div>
</div>
