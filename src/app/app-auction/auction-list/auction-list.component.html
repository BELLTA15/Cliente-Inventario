<div class="auction-page">
  <!-- 🔹 Barra superior con acciones -->
  <div class="toolbar">
  <button (click)="loadAuctions()">🔄 Refresh</button>
  <button (click)="goToComprar()">🛒 Comprar</button>
  <button (click)="goToVender()">📦 Vender</button>
  <button (click)="goToRecoger()">🎁 Recoger</button>
  <button (click)="goToMisPujas()">💰 Mis pujas</button>
  <div class="toolbar">
</div>

</div>


  <!-- 🔹 Filtros -->
  <div class="filters">
    <!-- Nombre -->
    <input
      type="text"
      placeholder="Buscar por nombre (mín. 4 caracteres)..."
      [(ngModel)]="filter"
      (ngModelChange)="applyFilter()"
    />

    <!-- Tipo -->
    <select [(ngModel)]="selectedType" (ngModelChange)="applyFilter()">
      <option value="">Todos los tipos</option>
      <option *ngFor="let t of uniqueTypes" [value]="t">{{ t }}</option>
    </select>

    <!-- Duración -->
    <select [(ngModel)]="selectedDuration" (ngModelChange)="applyFilter()">
      <option value="">Todas las duraciones</option>
      <option value="24">24 horas</option>
      <option value="48">48 horas</option>
    </select>

    <!-- Precio máximo -->
    <input
      type="number"
      placeholder="Precio máximo"
      [(ngModel)]="maxPrice"
      (ngModelChange)="applyFilter()"
    />
  </div>

  <!-- 🔹 Listado -->
  <div class="list">
    <app-auction-card
      *ngFor="let a of filtered"
      [auction]="a"
      (click)="openDetails(a)"
    ></app-auction-card>
  </div>

  <!-- 🔹 Detalle -->
  <app-auction-details
    *ngIf="selected"
    [auction]="selected"
    [token]="token || ''"
    (onClose)="closeDetails()"
  ></app-auction-details>
</div>
